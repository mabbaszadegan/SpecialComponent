<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sidebar Component - Closed Shadow DOM Demo with Tooltip Menus</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        .main-content {
            flex: 1;
            padding: 20px;
            background: #ffffff;
            margin-left: 0;
            transition: margin-left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .main-content.sidebar-open {
            margin-left: 280px;
        }

        .main-content.sidebar-collapsed {
            margin-left: 60px;
        }

        .demo-controls {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #e9ecef;
        }

        .demo-controls h2 {
            margin-bottom: 15px;
            color: #495057;
        }

        .demo-controls button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .demo-controls button:hover {
            background: #0056b3;
        }

        .demo-controls button:active {
            background: #004085;
        }

        .content-placeholder {
            background: #ffffff;
            padding: 40px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            text-align: center;
            color: #6c757d;
        }

        .content-placeholder h1 {
            margin-bottom: 20px;
            color: #495057;
        }

        .content-placeholder p {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .feature-highlight {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .feature-highlight h3 {
            color: #1976d2;
            margin-bottom: 15px;
        }

        .feature-highlight ul {
            margin-left: 20px;
            color: #424242;
        }

        .feature-highlight li {
            margin-bottom: 8px;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .main-content {
                margin-left: 0;
            }
            
            .main-content.sidebar-open,
            .main-content.sidebar-collapsed {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <sc-sidebar 
            theme="light" 
            position="left" 
            collapsible 
            show-header 
            searchable 
            responsive 
            remember-state
            title="Admin Panel">
            
            <!-- Dashboard Section -->
            <sc-sidebar-item key="dashboard" text="Dashboard" icon="fas fa-tachometer-alt" description="Main dashboard view"></sc-sidebar-item>
            
            <!-- User Management Section -->
            <sc-sidebar-item key="users" text="User Management" icon="fas fa-users" description="Manage system users">
                <sc-sidebar-item key="user-list" text="User List" icon="fas fa-list" description="View all users"></sc-sidebar-item>
                <sc-sidebar-item key="user-add" text="Add User" icon="fas fa-user-plus" description="Create new user"></sc-sidebar-item>
                <sc-sidebar-item key="user-roles" text="User Roles" icon="fas fa-user-tag" description="Manage user permissions">
                    <sc-sidebar-item key="role-admin" text="Administrator" icon="fas fa-crown" description="Full system access"></sc-sidebar-item>
                    <sc-sidebar-item key="role-manager" text="Manager" icon="fas fa-user-tie" description="Department management"></sc-sidebar-item>
                    <sc-sidebar-item key="role-user" text="Regular User" icon="fas fa-user" description="Basic access"></sc-sidebar-item>
                </sc-sidebar-item>
                <sc-sidebar-item key="user-groups" text="User Groups" icon="fas fa-layer-group" description="Organize users by groups"></sc-sidebar-item>
            </sc-sidebar-item>
            
            <!-- Content Management Section -->
            <sc-sidebar-item key="content" text="Content Management" icon="fas fa-file-alt" description="Manage website content">
                <sc-sidebar-item key="pages" text="Pages" icon="fas fa-file" description="Manage static pages">
                    <sc-sidebar-item key="page-home" text="Home Page" icon="fas fa-home" description="Main landing page"></sc-sidebar-item>
                    <sc-sidebar-item key="page-about" text="About Page" icon="fas fa-info-circle" description="Company information"></sc-sidebar-item>
                    <sc-sidebar-item key="page-contact" text="Contact Page" icon="fas fa-envelope" description="Contact information"></sc-sidebar-item>
                </sc-sidebar-item>
                <sc-sidebar-item key="blog" text="Blog Posts" icon="fas fa-blog" description="Manage blog articles">
                    <sc-sidebar-item key="blog-published" text="Published" icon="fas fa-check-circle" description="Live blog posts"></sc-sidebar-item>
                    <sc-sidebar-item key="blog-drafts" text="Drafts" icon="fas fa-edit" description="Work in progress"></sc-sidebar-item>
                    <sc-sidebar-item key="blog-categories" text="Categories" icon="fas fa-tags" description="Organize blog content"></sc-sidebar-item>
                </sc-sidebar-item>
                <sc-sidebar-item key="media" text="Media Library" icon="fas fa-images" description="Manage images and files">
                    <sc-sidebar-item key="media-images" text="Images" icon="fas fa-image" description="Photo gallery"></sc-sidebar-item>
                    <sc-sidebar-item key="media-documents" text="Documents" icon="fas fa-file-pdf" description="PDF and text files"></sc-sidebar-item>
                    <sc-sidebar-item key="media-videos" text="Videos" icon="fas fa-video" description="Video content"></sc-sidebar-item>
                </sc-sidebar-item>
            </sc-sidebar-item>
            
            <!-- E-commerce Section -->
            <sc-sidebar-item key="ecommerce" text="E-Commerce" icon="fas fa-shopping-cart" description="Online store management">
                <sc-sidebar-item key="products" text="Products" icon="fas fa-box" description="Manage product catalog">
                    <sc-sidebar-item key="product-list" text="Product List" icon="fas fa-list" description="All products"></sc-sidebar-item>
                    <sc-sidebar-item key="product-add" text="Add Product" icon="fas fa-plus" description="Create new product"></sc-sidebar-item>
                    <sc-sidebar-item key="product-categories" text="Categories" icon="fas fa-tags" description="Product organization"></sc-sidebar-item>
                    <sc-sidebar-item key="product-inventory" text="Inventory" icon="fas fa-warehouse" description="Stock management"></sc-sidebar-item>
                </sc-sidebar-item>
                <sc-sidebar-item key="orders" text="Orders" icon="fas fa-shopping-bag" description="Customer orders">
                    <sc-sidebar-item key="order-pending" text="Pending" icon="fas fa-clock" description="Awaiting processing"></sc-sidebar-item>
                    <sc-sidebar-item key="order-processing" text="Processing" icon="fas fa-cog" description="Being prepared"></sc-sidebar-item>
                    <sc-sidebar-item key="order-shipped" text="Shipped" icon="fas fa-truck" description="In transit"></sc-sidebar-item>
                    <sc-sidebar-item key="order-delivered" text="Delivered" icon="fas fa-check" description="Successfully delivered"></sc-sidebar-item>
                </sc-sidebar-item>
                <sc-sidebar-item key="customers" text="Customers" icon="fas fa-user-friends" description="Customer management">
                    <sc-sidebar-item key="customer-list" text="Customer List" icon="fas fa-list" description="All customers"></sc-sidebar-item>
                    <sc-sidebar-item key="customer-groups" text="Customer Groups" icon="fas fa-users" description="Segment customers"></sc-sidebar-item>
                </sc-sidebar-item>
            </sc-sidebar-item>
            
            <!-- Analytics Section -->
            <sc-sidebar-item key="analytics" text="Analytics" icon="fas fa-chart-line" description="Data and insights">
                <sc-sidebar-item key="dashboard-analytics" text="Dashboard" icon="fas fa-chart-bar" description="Overview metrics"></sc-sidebar-item>
                <sc-sidebar-item key="user-analytics" text="User Analytics" icon="fas fa-user-chart" description="User behavior data"></sc-sidebar-item>
                <sc-sidebar-item key="sales-analytics" text="Sales Analytics" icon="fas fa-chart-pie" description="Revenue insights"></sc-sidebar-item>
                <sc-sidebar-item key="traffic-analytics" text="Traffic Analytics" icon="fas fa-chart-area" description="Website traffic data"></sc-sidebar-item>
            </sc-sidebar-item>
            
            <!-- Settings Section -->
            <sc-sidebar-item key="settings" text="Settings" icon="fas fa-cog" description="System configuration">
                <sc-sidebar-item key="general-settings" text="General" icon="fas fa-sliders-h" description="Basic system settings"></sc-sidebar-item>
                <sc-sidebar-item key="security-settings" text="Security" icon="fas fa-shield-alt" description="Security configurations">
                    <sc-sidebar-item key="password-policy" text="Password Policy" icon="fas fa-key" description="Password requirements"></sc-sidebar-item>
                    <sc-sidebar-item key="two-factor" text="Two-Factor Auth" icon="fas fa-mobile-alt" description="2FA settings"></sc-sidebar-item>
                    <sc-sidebar-item key="session-timeout" text="Session Timeout" icon="fas fa-clock" description="Auto-logout settings"></sc-sidebar-item>
                </sc-sidebar-item>
                <sc-sidebar-item key="email-settings" text="Email" icon="fas fa-envelope-open" description="Email configuration">
                    <sc-sidebar-item key="smtp-settings" text="SMTP Settings" icon="fas fa-server" description="Mail server config"></sc-sidebar-item>
                    <sc-sidebar-item key="email-templates" text="Templates" icon="fas fa-file-text" description="Email templates"></sc-sidebar-item>
                </sc-sidebar-item>
                <sc-sidebar-item key="backup-settings" text="Backup & Restore" icon="fas fa-database" description="Data backup settings"></sc-sidebar-item>
            </sc-sidebar-item>
            
            <!-- Help & Support Section -->
            <sc-sidebar-item key="help" text="Help & Support" icon="fas fa-question-circle" description="Support resources">
                <sc-sidebar-item key="documentation" text="Documentation" icon="fas fa-book" description="User guides and manuals"></sc-sidebar-item>
                <sc-sidebar-item key="faq" text="FAQ" icon="fas fa-question" description="Frequently asked questions"></sc-sidebar-item>
                <sc-sidebar-item key="support-tickets" text="Support Tickets" icon="fas fa-ticket-alt" description="Help requests">
                    <sc-sidebar-item key="ticket-open" text="Open Tickets" icon="fas fa-folder-open" description="Active support requests"></sc-sidebar-item>
                    <sc-sidebar-item key="ticket-closed" text="Closed Tickets" icon="fas fa-folder" description="Resolved issues"></sc-sidebar-item>
                </sc-sidebar-item>
                <sc-sidebar-item key="contact-support" text="Contact Support" icon="fas fa-headset" description="Get help from team"></sc-sidebar-item>
            </sc-sidebar-item>
        </sc-sidebar>
        
        <div class="main-content" id="mainContent">
            <div class="demo-controls">
                <h2>Sidebar Demo Controls</h2>
                <button onclick="toggleSidebar()">Toggle Sidebar</button>
                <button onclick="openMobile()">Open Mobile</button>
                <button onclick="closeMobile()">Close Mobile</button>
                <button onclick="testUpdateItems()">Test Update Items</button>
                <button onclick="expandAllItems()">Expand All Items</button>
                <button onclick="collapseAllItems()">Collapse All Items</button>
                <button onclick="toggleTheme()">Toggle Theme</button>
            </div>
            
            <div class="content-placeholder">
                <h1>Welcome to the Enhanced Sidebar Demo</h1>
                <p>This demo showcases the sidebar component with closed Shadow DOM design, external CSS, and a new tooltip menu system.</p>
                <p>The sidebar now includes many items with sub-items to demonstrate the nested functionality.</p>
                <p>Try expanding different sections to see how the nested items work!</p>
            </div>

            <div class="feature-highlight">
                <h3>🚀 New Tooltip Menu System</h3>
                <p><strong>When the sidebar is collapsed:</strong></p>
                <ul>
                    <li>Only icons are visible in the collapsed sidebar</li>
                    <li>Hover over any icon to see a detailed tooltip menu</li>
                    <li>Menu shows the item's text, description, and all sub-items</li>
                    <li>Sub-items with their own children show a chevron arrow (→)</li>
                    <li>Hover over items with arrows to see nested sub-menus</li>
                    <li>Click on any menu item to navigate to that section</li>
                    <li>Menus automatically adapt to light/dark themes</li>
                </ul>
                <p><strong>Try it:</strong> Click "Toggle Sidebar" to collapse the sidebar, then hover over the icons to see the tooltip menus in action!</p>
            </div>
        </div>
    </div>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="sidebar-closed.js"></script>
    <script>
        // Demo functions
        function toggleSidebar() {
            const sidebar = document.querySelector('sc-sidebar');
            sidebar.toggleCollapse();
            
            // Update main content layout
            const mainContent = document.getElementById('mainContent');
            if (sidebar._state && sidebar._state.collapsed) {
                mainContent.classList.remove('sidebar-open');
                mainContent.classList.add('sidebar-collapsed');
            } else {
                mainContent.classList.remove('sidebar-collapsed');
                mainContent.classList.add('sidebar-open');
            }
        }

        function openMobile() {
            const sidebar = document.querySelector('sc-sidebar');
            sidebar.openMobile();
        }

        function closeMobile() {
            const sidebar = document.querySelector('sc-sidebar');
            sidebar.closeMobile();
        }

        function testUpdateItems() {
            const sidebar = document.querySelector('sc-sidebar');
            console.log('Testing updateItems method...');
            // This would typically update the sidebar items dynamically
        }

        function expandAllItems() {
            const items = document.querySelectorAll('sc-sidebar-item');
            items.forEach(item => {
                if (item._expand && typeof item._expand === 'function') {
                    item._expand();
                }
            });
            console.log('Expanded all items');
        }

        function collapseAllItems() {
            const items = document.querySelectorAll('sc-sidebar-item');
            items.forEach(item => {
                if (item._collapse && typeof item._collapse === 'function') {
                    item._collapse();
                }
            });
            console.log('Collapsed all items');
        }

        function toggleTheme() {
            const sidebar = document.querySelector('sc-sidebar');
            const currentTheme = sidebar.getAttribute('theme') || 'light';
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            sidebar.setAttribute('theme', newTheme);
            console.log(`Theme changed to: ${newTheme}`);
        }

        // Initialize main content layout
        document.addEventListener('DOMContentLoaded', function() {
            const sidebar = document.querySelector('sc-sidebar');
            const mainContent = document.getElementById('mainContent');
            
            if (sidebar && sidebar._state && sidebar._state.collapsed) {
                mainContent.classList.add('sidebar-collapsed');
            } else {
                mainContent.classList.add('sidebar-open');
            }
        });

        // Listen for tooltip menu item clicks
        document.addEventListener('tooltip-menu-item-click', (e) => {
            console.log('Tooltip menu item clicked:', e.detail.text);
        });

        // Console verification of closed Shadow DOM
        console.log('=== Enhanced Sidebar Component Demo ===');
        console.log('Verifying closed Shadow DOM behavior...');
        
        const sidebar = document.querySelector('sc-sidebar');
        const sidebarItem = document.querySelector('sc-sidebar-item');
        
        if (sidebar) {
            console.log('Sidebar element found');
            console.log('Sidebar shadowRoot:', sidebar.shadowRoot);
            console.log('Sidebar shadowRoot mode:', sidebar.shadowRoot ? 'closed' : 'null');
            
            // Try to access internal state (should be undefined due to closed mode)
            console.log('Sidebar internal state access:', sidebar._state);
            console.log('Sidebar public methods:', Object.getOwnPropertyNames(Object.getPrototypeOf(sidebar)).filter(name => !name.startsWith('_')));
        }
        
        if (sidebarItem) {
            console.log('Sidebar item element found');
            console.log('Sidebar item shadowRoot:', sidebarItem.shadowRoot);
            console.log('Sidebar item shadowRoot mode:', sidebarItem.shadowRoot ? 'closed' : 'null');
            
            // Try to access internal state (should be undefined due to closed mode)
            console.log('Sidebar item internal state access:', sidebarItem._expanded);
            console.log('Sidebar item public methods:', Object.getOwnPropertyNames(Object.getPrototypeOf(sidebarItem)).filter(name => !name.startsWith('_')));
        }
        
        console.log('=== Demo Ready ===');
        console.log('Use the control buttons to test the sidebar functionality');
        console.log('Try expanding different sections to see nested items in action');
        console.log('Collapse the sidebar and hover over icons to see the new tooltip menu system!');
    </script>
</body>
</html>
